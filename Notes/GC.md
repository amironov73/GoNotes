## Сборщик мусора

Начиная с Go 1.5, GC работает по методике mark-and-sweep. В основном он работает параллельно приложению, помечая объекты как используемые (mark). Во время фазы подметания (sweep) предусмотрена "остановка вселенной" (stop the world) на 20 мс для удаления "мусорных" объектов и компактификации кучи.

GC в Go использует пэйсер (лидер, задающий темп, кардиостимулятор) для уменьшения частоты запуска сборки мусора. По умолчанию пэйсер устанавливает триггер сборки мусора на удвоение размера кучи. Эта величина (x 2) может быть установлена в переменной окружения GOGC.

Одной из стратегий борьбы с лишними запусками сборки мусора является явное добавления балласта в программу:

```go
package main

func main() {

	// Создаём балласт размером 10 Гб
	ballast := make([]byte, 10<<30)

	// Программа делает что-нибудь полезное
}
```

В приведённом примере пэйсер, видя, что текущий размер кучи равен 10 Гб, уставнавливает триггер на отметке 20 Гб. Физического выделения памяти при этом практически не происходит, т. к. мы не обращаемся к элементам слайса-балласта. Зато первый вызов GC будет отложен надолго. 


